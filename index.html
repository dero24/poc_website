<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Morphic Web ‚Äì Next-Gen AI SuperApp</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --brand1: #6772e5;
      --brand2: #7f9cf5;
      --surface: #fff;
      --surface-dark: #181a20;
      --glass: rgba(245,248,255,0.48);
      --glass-dark: rgba(30,36,44,0.58);
      --shadow: rgba(84,90,139,0.16);
    }
    html {min-height:100vh;}
    body {font-family:'Inter',Segoe UI,sans-serif;background:radial-gradient(160% 130% at 50% 0%,var(--brand2) 0%,var(--brand1) 100%);min-height:100vh;margin:0;padding:0;color:#1d2332;transition:background 0.6s;}
    .darkmode {background:radial-gradient(170% 100% at 50% 0%,#2b324b 0%,#222838 100%);}
    .container {max-width:900px;margin:52px auto 38px;background:var(--surface);border-radius:30px;box-shadow:0 18px 92px var(--shadow),0 1.7px 7px var(--shadow);padding:56px 50px 44px 50px;backdrop-filter:blur(0.8px);}
    .darkmode .container {background:var(--glass-dark);color:#e5e7ef;}
    .header {text-align:center;margin-bottom:32px;}
    .logo {font-size:2.5em;color:var(--brand1);font-weight:900;letter-spacing:-.09em;text-shadow:0 3px 22px var(--brand2);}
    .slogan {margin:14px auto 0;font-size:1.15em;opacity:.82;color:#5151a5;}
    .darkmode .slogan {color:#bbc3ee;}
    .dashboard {margin-bottom:33px;}
    .nav-tabs {display:flex;gap:7px;justify-content:flex-start;}
    .nav-tab {
      background:linear-gradient(100deg,var(--brand1) 0%,var(--brand2) 100%);
      box-shadow:0 1px 7px var(--shadow);
      color:#fff;padding:10px 25px;border-radius:12px;cursor:pointer;font-weight:700;
      font-size:1.09em;letter-spacing:.04em;margin-bottom:8px;border:none;
      transition:font-size .2s,background .2s;
    }
    .nav-tab.active {background:#fff;color:var(--brand1);font-size:1.17em;border:2.7px solid var(--brand1);}
    .darkmode .nav-tab {background:#222838;}
    .darkmode .nav-tab.active {background:#181a20;}
    .nav-tab:not(.active):hover {background:linear-gradient(99deg,#757de5 30%,#bccbfe 100%);color:#222;}
    .stats {display:flex;gap:17px;margin:14px 0;}
    .stat-card {
      flex:1;background:linear-gradient(101deg,var(--brand2) 0%,var(--brand1) 85%);
      color:#fff;border-radius:10px;text-align:center;padding:11px 7px 7px;font-size:1.1em;box-shadow:0 1.7px 11px var(--shadow);
    }
    .stat-card h3 {margin:0;font-size:1.34em;}
    .stat-card p {margin:2px 0 0;opacity:.8;}
    .user-input-area {margin-bottom:13px;display:flex;gap:12px;}
    .user-input-area textarea {
      width:100%;padding:15px 18px;border-radius:14px;min-height:66px;font-size:1.11em;
      border:2px solid #e0e3ee;font-family:'Inter',sans-serif;transition:border .22s;background:rgba(245,248,255,0.72);
    }
    .darkmode .user-input-area textarea {background:#181a20;color:#def;}
    .user-input-area textarea:focus {border-color:var(--brand1);}
    .generate-btn {
      background:linear-gradient(101deg,var(--brand1) 0%,var(--brand2) 80%);
      color:#fff;border:none;padding:15px 28px;border-radius:14px;font-size:1.16em;font-weight:800;cursor:pointer;box-shadow:0 1.8px 12px var(--shadow);
      letter-spacing:.03em;
    }
    .generate-btn:hover {background:linear-gradient(101deg,#5461eb 0%,#bbcbfe 90%);}
    .generated-content {
      margin-top:17px;padding:21px 21px 23px 21px;background:var(--glass);border-radius:16px;min-height:160px;
      border:2px solid #e4eafb;box-shadow:0 2px 17px var(--shadow);transition:background .22s;}
    .darkmode .generated-content {background:var(--glass-dark);}
    .loading {text-align:center;padding:28px;color:var(--brand2);font-size:1.13em;}
    .error-message {background:#ff484f;color:#fff;padding:11px 18px;border-radius:10px;margin-top:11px;font-weight:700;letter-spacing:.02em;}
    .history-log {margin:15px 1px 7px 0;padding:13px 6px 6px 14px;background:#f7f8fc;border-radius:10px;max-height:90px;overflow-y:auto;border:1.6px solid #ecebfd;font-size:0.99em;}
    .darkmode .history-log {background:#181a20;}
    .history-item {padding:6px 12px;margin-bottom:4.5px;background:#fff;border-radius:6px;font-size:1.01em;border:1.2px solid #f1f3fa;box-shadow:0 1px 5px rgba(178,193,240,0.09);}
    .darkmode .history-item {background:#25273a;border-color:#3b3d51;}
    .branding {text-align:center;font-size:1em;color:#bbc3ee;margin-top:33px;}
    .settings-bar {display:flex;gap:13px;align-items:center;justify-content:flex-end;font-size:1.12em;margin-bottom:14px;color:var(--brand1);}
    .settings-btn {background:transparent;border:none;color:inherit;padding:4px 10px;font-weight:700;font-size:1.18em;cursor:pointer;letter-spacing:.07em;opacity:.8;}
    .settings-btn:hover {color:#5055d5;}
    @media (max-width:970px){.container{max-width:99vw;padding:4vw 2vw;}.stats{flex-direction:column;gap:11px;}}
  </style>
</head>
<body>
<div class="container" id="containerRoot">
  <div class="settings-bar">
    <button class="settings-btn" onclick="toggleDarkMode()" id="darkModeBtn">üåô Dark mode</button>
    <button class="settings-btn" onclick="aboutBox()">‚ÑπÔ∏è About</button>
  </div>
  <div class="header">
    <div class="logo">Morphic Web</div>
    <div class="slogan">
      <b>The true next generation AI superapp builder.</b><br>
      Gorgeous, creative, persistent, interactive, multi-app‚Äîand alive.
    </div>
  </div>
  <div class="dashboard">
    <div class="nav-tabs" id="appTabs"></div>
  </div>
  <div class="interaction-zone" id="interactionZone">
    <div class="stats">
      <div class="stat-card"><h3 id="interactionCount">0</h3><p>Interactions</p></div>
      <div class="stat-card"><h3 id="elementsCreated">0</h3><p>Elements Created</p></div>
      <div class="stat-card"><h3 id="adaptations">0</h3><p>Adaptations</p></div>
    </div>
    <div class="user-input-area">
      <textarea id="userIntent" placeholder="Describe your app, dashboard, or creative experience (e.g., 'team productivity tool', 'music + chat', 'AI assistant', 'game')"></textarea>
      <button type="button" onclick="generateInterface()" class="generate-btn">‚ú® Generate</button>
    </div>
    <div class="generated-content" id="generatedContent"></div>
    <div class="history-log" id="historyLog"><strong>App History:</strong></div>
  </div>
  <div class="branding">Morphic Web &copy; 2025 | Powered by HuggingFace H4 AI</div>
</div>
<script>
// --- Serverless CORS-enabled AI model for browser-only (October 2025)
const HF_API = "https://hf.space/embed/HuggingFaceH4/zephyr-7b-beta/+/api/predict";
let interactionCount=0, elementsCreated=0, adaptations=0, appHistory=[], currentApp=0, darkMode=false;
// --- UTILITIES ---
function updateStats() {
  document.getElementById('interactionCount').textContent=interactionCount;
  document.getElementById('elementsCreated').textContent=elementsCreated;
  document.getElementById('adaptations').textContent=adaptations;
}
function logHistory(msg) {
  const log=document.getElementById('historyLog'),item=document.createElement('div');
  item.className='history-item';
  item.textContent=`${new Date().toLocaleTimeString()} - ${msg}`;
  log.appendChild(item); log.scrollTop=log.scrollHeight;
}
function toggleDarkMode() {
  darkMode = !darkMode;
  document.body.className = darkMode ? 'darkmode' : '';
  document.getElementById('darkModeBtn').textContent = darkMode ? "üåû Light mode" : "üåô Dark mode";
}
// --- NEXT-GEN LOGIC/INTERACTION ---
async function generateInterface() {
  const intent=document.getElementById('userIntent').value.trim();
  const content=document.getElementById('generatedContent');
  if(!intent){alert('Describe what you want to build: tools, dashboards, games, creative apps!');return;}
  content.innerHTML='<div class="loading">‚ö°Ô∏è Generating your web app...</div>';
  interactionCount++; updateStats();
  const context = appHistory.length>0 ? `Previous apps: ${appHistory.map(app=>app.prompt).slice(-2).join(' | ')}` : '';
  const prompt=`You are a world-class full-stack web engineer + designer. Build this app for a user, making everything beautifully interactive and persistent.
Requirements:
- HTML and CSS (immediately usable, modern SaaS style, glassmorphism, gradients).
- All interactive features must work: inputs, buttons, forms, drag/drop, etc.
- Any logic is implemented with <script> at end. Every main event triggers JS functions, wired by IDs and selectors‚Äînever inline.
- Must all be wrapped in a single <div id="appBody">.
- Provide a clear header, real sample/demo data, fun details/icons.
- Only HTML, <style>, <script>. No markdown, code fencing, or explanations.
- If an error, display with <div class="error-message">.
${context}
User request: "${intent}"`;
  try {
    const html = await callAI(prompt);
    storeApp(intent, html);
    switchApp(appHistory.length-1, true);
    logHistory(`‚ú® App created: "${intent.substring(0,48)}..."`);
    document.getElementById('userIntent').value='';
  } catch(e) {
    content.innerHTML=`<div class="error-message">Error: ${e.message}</div>`;
    logHistory(`‚ö†Ô∏è Error: ${e.message}`);
  }
}
// --- AI CALL/PARSING ---
async function callAI(prompt) {
  const response=await fetch(HF_API, {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({data:[prompt]})
  });
  if(!response.ok) throw new Error("AI API unreachable or rate-limited");
  const data=await response.json();
  let text = Array.isArray(data.data) ? data.data[0] : (data.data || data.output || "");
  text = text.replace(/``````/g,'').trim();
  if(!/<div/i.test(text)) throw new Error("No usable app returned‚Äîtry changing your prompt.");
  return text;
}
function storeApp(prompt, html) {
  appHistory.push({prompt, html});
  currentApp = appHistory.length-1;
  renderTabs();
}
function switchApp(idx, force=false) {
  if(idx<0 || idx>=appHistory.length) return;
  currentApp=idx;
  const app=appHistory[idx];
  parseAndInjectHTML(app.html, document.getElementById('generatedContent'));
  renderTabs();
  if(force) logHistory(`üîÑ Switched to app: "${app.prompt.substring(0,42)}"`);
}
function renderTabs() {
  const tabs=document.getElementById('appTabs');
  tabs.innerHTML='';
  appHistory.forEach((app,i)=>{
    const btn=document.createElement('button');
    btn.className='nav-tab'+(i===currentApp?' active':'');
    btn.textContent=(i+1)+'. '+(app.prompt.length>26?app.prompt.substring(0,26)+'‚Ä¶':app.prompt);
    btn.onclick=()=>switchApp(i,true);
    tabs.appendChild(btn);
  });
  if(appHistory.length>0) tabs.style.display='flex';
  else tabs.style.display='none';
}
function parseAndInjectHTML(raw, container) {
  let html=raw, style="", script="";
  style = html.match(/<style[^>]*>([\s\S]*?)<\/style>/i)?.[1] || "";
  script = html.match(/<script[^>]*>([\s\S]*?)<\/script>/i)?.[1] || "";
  html = html.replace(/<style[^>]*>[\s\S]*?<\/style>/gi, "").replace(/<script[^>]*>[\s\S]*?<\/script>/gi, "");
  container.innerHTML = html;
  if(style) { let styleEl=document.createElement('style'); styleEl.textContent=style; container.appendChild(styleEl);}
  if(script) { let scriptEl=document.createElement('script'); scriptEl.textContent=script; container.appendChild(scriptEl);}
}
document.addEventListener("DOMContentLoaded", ()=>{
  document.getElementById('userIntent')?.addEventListener('keydown',(e)=>{
    if(e.key==='Enter'&&e.ctrlKey)generateInterface();
  });
  renderTabs();
});
function aboutBox() {
  alert("üíé Morphic Web: Build, switch, and remix next-gen AI-powered apps in seconds!\n- Try making dashboards, games, tools, chats, or multi-feature platforms\n- Use dark mode for stunning glassmorphism\n- Your apps live until you refresh\n- Powered by HuggingFace Zephyr");
}
</script>
</body>
</html>
